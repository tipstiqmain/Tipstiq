<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USDC Purchase</title>
    <link rel="stylesheet" href="./public/css/bootstrap.min.css">
    <style>
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1>Purchase USDC</h1>
        <p>This page allows you to purchase USDC with your connected wallet.</p>
        
        <button id="connectWalletBtn" class="btn btn-primary">Connect Wallet</button>
        
        <div id="walletInfo" class="mt-3"></div>

        <div id="purchaseSection" class="hidden mt-4">
            <h2>Purchase</h2>
            <div class="form-group">
                <label for="usdcAmount">Amount of USDC to Purchase:</label>
                <input type="number" id="usdcAmount" class="form-control" placeholder="e.g., 100">
            </div>
            <button id="purchaseUsdcBtn" class="btn btn-success">Purchase USDC</button>
            <div id="usdcAmountDisplay" class="mt-2 font-weight-bold"></div>
            <div id="feeDisplay" class="mt-2 text-muted"></div>
            <p id="statusMessage" class="mt-3"></p>
        </div>

        <div class="mt-4">
            <!-- Link to open the modal -->
            <a href="#" data-toggle="modal" data-target="#feeModal">View Fee Structure</a>
            <br>
            <a href="fiat-conversion-guide.html" target="_blank">Fiat Conversion Guide</a>
        </div>
    </div>

    <!-- Fee Modal -->
    <div class="modal fade" id="feeModal" tabindex="-1" aria-labelledby="feeModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="feeModalLabel">Fee Structure</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>The following fees apply to USDC purchases.</p>
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Condition</th>
                  <th scope="col">Fee (USD)</th>
                </tr>
              </thead>
              <tbody id="feeTableBody">
                <!-- Fee data will be inserted here by app.js -->
              </tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <script src="./public/js/vendor/jquery-3.5.1.min.js"></script>
    <script src="./public/js/vendor/popper.min.js"></script>
    <script src="./public/js/vendor/bootstrap.min.js"></script>
    <script src="./public/js/vendor/ethers.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>